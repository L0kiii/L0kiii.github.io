<!DOCTYPE html>
<html lang="en" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="KaynZ" />
  <!-- Open Graph Description 简短摘要-->
  
  <!-- 用于搜索引擎的文章摘要 -->
  
  
  
  <title>
    
      Introduction to Mini Program Development[2] 
      
      
      |
    
     L0ki&#39;s Website
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <!-- 代码块风格 -->
  
    
<link rel="stylesheet" href="/css/figcaption/mac-block.css">

  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="L0ki's Website" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img no-lazy src="/images/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">L0ki</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
        <li class="nav-item" data-path="/projects/">
          <a href="/projects/">Projects</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">Introduction to Mini Program Development[2]</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
          2024-04-20 22:16:54
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags mr-10" title="Tags"></i>
                
                <span class="span--tag mr-8">
                  <a href="/tags/Notes/" title="Notes">
                    #Notes
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <h3 id="0x007-高斯模糊的背景"><a href="#0x007-高斯模糊的背景" class="headerlink" title="0x007 高斯模糊的背景"></a>0x007 高斯模糊的背景</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;userinfo-display&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;blur-bg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;user-img&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/luffy.jpg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blur-bg</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">750</span>rpx;<span class="attribute">height</span>: <span class="number">300</span>rpx;<span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/blurimg.jpg</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">15px</span>);</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.user-img</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">750</span>rpx;<span class="attribute">height</span>: <span class="number">300</span>rpx;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center; </span><br><span class="line">    <span class="attribute">align-items</span>:center;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.user-img</span> image &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;<span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="0x008-变形属性Transform"><a href="#0x008-变形属性Transform" class="headerlink" title="0x008 变形属性Transform"></a>0x008 变形属性Transform</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;transform-display&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span>缩放,scale(x,y)，x为长度缩放倍数，y为宽度缩放倍数，如果只有一个值，则是长和宽缩放的倍数<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;scale&quot;</span>  <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/weapp.jpg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span>平移,translate(x,y)，x为x轴平移的距离，y为y轴平移的距离，如果只有一个值，则是x和y轴缩放的距离，值可以为负数<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;translate&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/weapp.jpg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">view</span>&gt;</span>旋转,rotate()里的值为旋转的角度<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;rotate&quot;</span>  <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/weapp.jpg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">view</span>&gt;</span>倾斜,skew()里的值为旋转的角度<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;skew&quot;</span>  <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/weapp.jpg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.transform-display</span> image&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;<span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="selector-class">.scale</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>,<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.translate</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">500px</span>,<span class="number">20px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rotate</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.skew</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">skew</span>(<span class="number">120deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="0x009-过渡属性Transition"><a href="#0x009-过渡属性Transition" class="headerlink" title="0x009 过渡属性Transition"></a>0x009 过渡属性Transition</h3><p><code>语法：transition: [transition-property] [transition-duration] [transition-timing-function] [transition-delay];&#125;</code></p>
<ul>
<li><strong>transition-property</strong>，应用过渡的 CSS 或动画属性的名称；</li>
<li><strong>transition-duration</strong>，整个过渡效果持续的时间，默认时间为0秒，所以要有过渡效果这个是必须定义的；</li>
<li><strong>transition-timing-function</strong>，规定过渡效果的时间曲线，默认为ease；</li>
<li><strong>transition-delay</strong>，过渡效果延迟多久，或者说何时开始，默认为0秒，不定义的话也就是直接开始；</li>
</ul>
<h3 id="0x010-背景颜色的变化"><a href="#0x010-背景颜色的变化" class="headerlink" title="0x010 背景颜色的变化"></a>0x010 背景颜色的变化</h3><p>  同样还是把下面的代码输入到小程序的页面当中，通过实战的方式来查看效果。</p>
<p>  使用开发者工具新建一个transition页面，然后在transition.wxml页面里面输入以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;transition-display&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;box bg-color&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;bg-color-hover&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.box</span>&#123;<span class="attribute">width</span>: <span class="number">150px</span>;<span class="attribute">height</span>: <span class="number">150px</span>;<span class="attribute">cursor</span>: pointer;&#125;</span><br><span class="line">  <span class="selector-class">.bg-color</span>&#123;</span><br><span class="line">      <span class="attribute">background-color</span>:green;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.bg-color-hover</span>&#123;</span><br><span class="line">      <span class="attribute">background-color</span>: yellow;</span><br><span class="line">      <span class="attribute">transition</span>: background-color <span class="number">5s</span> ease-out <span class="number">3s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  动画是需要触发的，这里我们使用的是<strong>悬停hover-class</strong>来触发效果，把鼠标放在元素上8秒以上，看一下正方形的背景颜色有什么变化。</p>
<p>  了解了效果之后，我们再来结合实际案例理解语法：</p>
<ul>
<li><p>因为我们是用hover来触发的，所以transition要写在元素的hover-class里，盒子之前的背景是绿色green，悬停的背景是黄色yellow；</p>
</li>
<li><p>因为我们改变的是盒子background-color，所以transition需要过渡的CSS属性名称，就是background-color；</p>
</li>
<li><p>动画过渡持续的时间，我们设置的是5秒，也就是背景由绿色变为黄色的时间；</p>
</li>
<li><p>这里的ease-out（慢速结束）是颜色过渡的时间曲线效果。还可以有linear（匀速）、ease-in（慢速开始）、ease-in-out（慢速开始和慢速结束）。持续的时间很短的情况下，这几个时间曲线效果差别是及其细微的，<strong>需要设计师对动画足够敏感了</strong>。</p>
</li>
<li><p>动画延迟的时间是3秒，也就是说3秒之后动画才开始。</p>
<p>一个综合案例，在transition.wxml里输入</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>盒子的多个属性一起动画: width, height, background-color, transform. 将鼠标或手指悬停在盒子上查看动画之后放开。<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;animatebox&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;animatebox-hover&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>  在transition.wxss里输入</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.animatebox</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#4a9d64</span>;</span><br><span class="line">      <span class="attribute">transition</span>:width <span class="number">2s</span>, height <span class="number">2s</span>, background-color <span class="number">2s</span>, transform <span class="number">2s</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.animatebox-hover</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#cd584a</span>;</span><br><span class="line">      <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">180deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="0x011-动画属性Animation"><a href="#0x011-动画属性Animation" class="headerlink" title="0x011 动画属性Animation"></a>0x011 动画属性Animation</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;fadeIn&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">view</span>&gt;</span>注意会有一个无限颜色渐变变化的动画<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://hackwork-1251009918.cos.ap-shanghai.myqcloud.com/handbook/html5/weapp.jpg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.fadeIn</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: <span class="number">4s</span> linear <span class="number">0s</span> infinite alternate fadeIn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="0x05-数据绑定"><a href="#0x05-数据绑定" class="headerlink" title="0x05 数据绑定"></a>0x05 数据绑定</h2><h3 id="0x001-数据分离"><a href="#0x001-数据分离" class="headerlink" title="0x001 数据分离"></a>0x001 数据分离</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;username&#125;&#125;，您已登录，欢迎<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在js的data里面插入:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line"> <span class="attr">username</span>:<span class="string">&quot;xx&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>data 是小程序的页面第一次渲染使用的<strong>初始数据</strong>。小程序的页面加载时， data 将会以 JSON字符串的形式由逻辑层传至渲染层，因此 data中的数据必须是可以转成 JSON的类型：字符串String，数字Number，布尔值Boolean，对象Object，数组Array。</p>
<h3 id="0x002-数据类型"><a href="#0x002-数据类型" class="headerlink" title="0x002 数据类型"></a>0x002 数据类型</h3><p>通过前面的案例我们了解到WXML 中的动态数据均来自对应 Page 的 data。 data 是小程序的页面第一次渲染使用的<strong>初始数据</strong>。小程序的页面加载时， data 将会以 JSON字符串的形式由逻辑层传至渲染层，因此 data中的数据必须是可以转成 JSON的类型：字符串String，数字Number，布尔值Boolean，对象Object，数组Array。</p>
<ul>
<li><strong>字符串String</strong>，用于存储和处理文本，可以结合Excel单元格格式里的文本格式来理解；</li>
<li><strong>数字Number</strong>，这个很好理解，比如233这个数，它的数字格式和文本格式是有很大不同的，学Excel一定不会陌生；</li>
<li><strong>布尔值Boolean</strong>，就是true和false，虽然只有两个值，但是它代表着两种选择，两种不同的条件，两种不同的结果；</li>
<li><strong>对象Object</strong>，结合之前所学，我们再来回顾一下：对象由大括号{}分隔，在大括号{}内部，对象的属性以名称和值对的形式 name : value来定义，属性由逗号,分隔</li>
<li><strong>数组Array</strong>，结合之前所学，我们再来回顾一下：数组由中括号[ ]来分割，有点类似于列表；</li>
</ul>
<h3 id="0x003-组件属性的渲染"><a href="#0x003-组件属性的渲染" class="headerlink" title="0x003 组件属性的渲染"></a>0x003 组件属性的渲染</h3><p>通过数据绑定，我们还可以把 style、class 、id等属性分离出来来控制组件的样式等信息。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">id</span>=<span class="string">&quot;item-&#123;&#123;id&#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123;itemclass&#125;&#125;&quot;</span> <span class="attr">url</span>=<span class="string">&quot;&#123;&#123;itemurl&#125;&#125;&quot;</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">image</span> <span class="attr">style</span>=<span class="string">&quot;width: &#123;&#123;imagewidth&#125;&#125;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;&#123;&#123;imagemode&#125;&#125;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;imagesrc&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">233</span>,</span><br><span class="line">  <span class="attr">itemurl</span>:<span class="string">&quot;/pages/home/imgshow/imgshow&quot;</span>,</span><br><span class="line">  <span class="attr">itemclass</span>:<span class="string">&quot;event-item&quot;</span>,</span><br><span class="line">  <span class="attr">imagesrc</span>: <span class="string">&quot;https://hackwork.oss-cn-shanghai.aliyuncs.com/lesson/weapp/4/weapp.jpg&quot;</span>,</span><br><span class="line">  <span class="attr">imagemode</span>:<span class="string">&quot;widthFix&quot;</span>,</span><br><span class="line">  <span class="attr">imagewidth</span>:<span class="string">&quot;100%&quot;</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在模拟器里查看显示的效果，发现显示的结果上和之前不采用数据绑定没有什么区别，<em><strong>但是用数据绑定的好处是为我们以后添加大量数据以及进行编程更新打下了基础。</strong></em></p>
<h3 id="0x004-渲染数组里的单条数据"><a href="#0x004-渲染数组里的单条数据" class="headerlink" title="0x004 渲染数组里的单条数据"></a>0x004 渲染数组里的单条数据</h3><p>格式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;newstitle[0]&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">   <span class="attr">newstitle</span>:[</span><br><span class="line">     </span><br><span class="line">   ],</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="0x005-渲染对象类型的数据"><a href="#0x005-渲染对象类型的数据" class="headerlink" title="0x005 渲染对象类型的数据"></a>0x005 渲染对象类型的数据</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;movie.img&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:300rpx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>电影名：&#123;&#123;movie.name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>英文名：&#123;&#123;movie.englishname&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>国家：&#123;&#123;movie.country&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>发行年份：&#123;&#123;movie.year&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>简述：&#123;&#123;movie.desc&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">movie</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;肖申克的救赎&quot;</span>,</span><br><span class="line">      <span class="attr">englishname</span>:<span class="string">&quot;The Shawshank Redemption&quot;</span>,</span><br><span class="line">      <span class="attr">country</span>:<span class="string">&quot;美国&quot;</span>,</span><br><span class="line">      <span class="attr">year</span>:<span class="number">1994</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;有的人的羽翼是如此光辉，即使世界上最黑暗的牢狱，也无法长久地将他围困！&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象Object类型的数据就被渲染出来:在双大括号&#123;&#123;&#125;&#125;里，输入变量movie+点+属性名即可，这就是**对象的点表示法**。</span><br></pre></td></tr></table></figure>

<h3 id="0x006-复杂的数据嵌套"><a href="#0x006-复杂的数据嵌套" class="headerlink" title="0x006 复杂的数据嵌套"></a>0x006 复杂的数据嵌套</h3><p>对象是可以嵌套的，也就是一个对象可以作为另外一个对象的值，除了对象里套对象，数组里也可以套对象，对象里也可以套数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">movies</span>:[</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">name</span>: <span class="string">&quot;肖申克的救赎&quot;</span>,</span><br><span class="line">       <span class="attr">englishname</span>: <span class="string">&quot;The Shawshank Redemption&quot;</span>,</span><br><span class="line">       <span class="attr">country</span>: <span class="string">&quot;美国&quot;</span>,</span><br><span class="line">       <span class="attr">year</span>: <span class="number">1994</span>,</span><br><span class="line">       <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.webp&quot;</span>,</span><br><span class="line">       <span class="attr">desc</span>: <span class="string">&quot;有的人的羽翼是如此光辉，即使世界上最黑暗的牢狱，也无法长久地将他围困！&quot;</span>,</span><br><span class="line">       <span class="attr">actor</span>:[</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">name</span>:<span class="string">&quot;蒂姆·罗宾斯&quot;</span>,</span><br><span class="line">           <span class="attr">role</span>:<span class="string">&quot;安迪·杜佛兰&quot;</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">name</span>:<span class="string">&quot;摩根·弗里曼&quot;</span>,</span><br><span class="line">           <span class="attr">role</span>:<span class="string">&quot;艾利斯·波伊德·瑞德&quot;</span></span><br><span class="line">         &#125;,</span><br><span class="line">       ]</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">name</span>: <span class="string">&quot;霸王别姬&quot;</span>,</span><br><span class="line">       <span class="attr">englishname</span>: <span class="string">&quot;Farewell My Concubine&quot;</span>,</span><br><span class="line">       <span class="attr">country</span>: <span class="string">&quot;中国&quot;</span>,</span><br><span class="line">       <span class="attr">year</span>: <span class="number">1993</span>,</span><br><span class="line">       <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2561716440.webp&quot;</span>,</span><br><span class="line">       <span class="attr">desc</span>: <span class="string">&quot;风华绝代&quot;</span>,</span><br><span class="line">       <span class="attr">actor</span>: [</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">name</span>: <span class="string">&quot;张国荣&quot;</span>,</span><br><span class="line">           <span class="attr">role</span>: <span class="string">&quot;程蝶衣&quot;</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">name</span>: <span class="string">&quot;张丰毅&quot;</span>,</span><br><span class="line">           <span class="attr">role</span>: <span class="string">&quot;段小楼&quot;</span></span><br><span class="line">         &#125;,</span><br><span class="line">       ]</span><br><span class="line">     &#125;,</span><br><span class="line">   ],</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>豆瓣电影排名第2、最重要的主演演员名：<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;movies[1].actor[0].name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>显示即可出现我们想要的结果</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;movies[1].img&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:300rpx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>电影名：&#123;&#123;movies[1].name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>英文名：&#123;&#123;movies[1].englishname&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>发行地：&#123;&#123;movies[1].country&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>发行年份：&#123;&#123;movies[1].year&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>简述：&#123;&#123;movies[1].desc&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将第二部电影的数据全部渲染</p>
<p>以上适用于电影或者新闻列表渲染</p>
<h2 id="0x06-列表渲染与条件渲染"><a href="#0x06-列表渲染与条件渲染" class="headerlink" title="0x06 列表渲染与条件渲染"></a>0x06 列表渲染与条件渲染</h2><h3 id="0x001-渲染数组里的所有数据"><a href="#0x001-渲染数组里的所有数据" class="headerlink" title="0x001 渲染数组里的所有数据"></a>0x001 渲染数组里的所有数据</h3><p><strong>相同的结构是列表渲染的前提</strong></p>
<p>在实际的开发场景里，商品、新闻、股票、收藏、书架列表等都会有几千上万条的数据，他们都有一个共同的特征就是数据的结构相同，这也是可以批量化渲染的前提。</p>
<p>Eg:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">newstitle</span>:[</span><br><span class="line">      <span class="string">&quot;瑞幸咖啡：有望在三季度达到门店运营的盈亏平衡点&quot;</span>,</span><br><span class="line">      <span class="string">&quot;腾讯：广告高库存量还是会持续到下一年&quot;</span>,</span><br><span class="line">      <span class="string">&quot;上汽集团云计算数据中心落户郑州，总投资20亿元&quot;</span>,</span><br><span class="line">      <span class="string">&quot;京东：月收入超2万元快递小哥数量同比增长163%&quot;</span>,</span><br><span class="line">      <span class="string">&quot;腾讯：《和平精英》日活跃用户已超五千万&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>将上述数据全部渲染出来</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;newstitle&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;item&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里wx:for&#x3D;””，也就是在数组newstitle里进行循环，*this代表在 for 循环中的 item 本身，而的item是默认的。也可以使用如下方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for-items</span>=<span class="string">&quot;&#123;&#123;newstitle&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;title&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;title&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="0x002-wx-for"><a href="#0x002-wx-for" class="headerlink" title="0x002 wx:for"></a>0x002 wx:for</h3><p>在组件上使用 <code>wx:for</code> 控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。</p>
<p>默认数组的当前项的下标变量名默认为 <code>index</code>，数组当前项的变量名默认为 <code>item</code></p>
<p>使用 <code>wx:for-item</code> 可以指定数组当前元素的变量名，</p>
<p>使用 <code>wx:for-index</code> 可以指定数组当前下标的变量名：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;idx&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;itemName&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;idx&#125;&#125;: &#123;&#123;itemName.message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>wx:for</code> 也可以嵌套，下边是一个九九乘法表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;i&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;j&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;i &lt;= j&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;i&#125;&#125; * &#123;&#123;j&#125;&#125; = &#123;&#123;i * j&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="0x003-block-wx-for"><a href="#0x003-block-wx-for" class="headerlink" title="0x003 block wx:for"></a>0x003 block wx:for</h3><p>类似 <code>block wx:if</code>，也可以将 <code>wx:for</code> 用在&#96;&#96;标签上，以渲染一个包含多节点的结构块。例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3]&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;index&#125;&#125;: <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="0x004-wx-key"><a href="#0x004-wx-key" class="headerlink" title="0x004 wx:key"></a>0x004 wx:key</h3><p>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">input</a> 中的输入内容，<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html">switch</a> 的选中状态），需要使用 <code>wx:key</code> 来指定列表中项目的唯一的标识符。</p>
<p><code>wx:key</code> 的值以两种形式提供</p>
<ol>
<li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。</li>
<li>保留关键字 <code>*this</code> 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字。</li>
</ol>
<p>当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率。</p>
<p><strong>如不提供 <code>wx:key</code>，会报一个 <code>warning</code>， 如果明确知道该列表是静态，或者不必关注其顺序，可以选择忽略。</strong></p>
<h3 id="0x005-电影列表页面"><a href="#0x005-电影列表页面" class="headerlink" title="0x005 电影列表页面"></a>0x005 电影列表页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">movies</span>: [&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;肖申克的救赎&quot;</span>, </span><br><span class="line">    <span class="attr">img</span>:<span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.webp&quot;</span>,</span><br><span class="line">    <span class="attr">desc</span>:<span class="string">&quot;有的人的羽翼是如此光辉，即使世界上最黑暗的牢狱，也无法长久地将他围困！&quot;</span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;霸王别姬&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;风华绝代。&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;这个杀手不太冷&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p511118051.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;怪蜀黍和小萝莉不得不说的故事。&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;阿甘正传&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img1.doubanio.com/view/photo/s_ratio_poster/public/p510876377.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;一部美国近现代史。&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;美丽人生&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p510861873.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;最美的谎言。&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;泰坦尼克号&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p457760035.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;失去的才是永恒的。&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;千与千寻&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p1606727862.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;最好的宫崎骏，最好的久石让。&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;辛德勒名单&quot;</span>,</span><br><span class="line">      <span class="attr">img</span>: <span class="string">&quot;https://img3.doubanio.com/view/photo/s_ratio_poster/public/p492406163.webp&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;拯救一个人，就是拯救整个世界。&quot;</span></span><br><span class="line">    &#125;,     </span><br><span class="line">  ],</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__bd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-panel weui-panel_access&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-panel__bd&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;movies&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;movies&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*item&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;weui-media-box weui-media-box_appmsg&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;weui-cell_active&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-media-box__hd weui-media-box__hd_in-appmsg&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;weui-media-box__thumb&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;movies.img&#125;&#125;&quot;</span> <span class="attr">sytle</span>=<span class="string">&quot;height:auto&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-media-box__bd weui-media-box__bd_in-appmsg&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-media-box__title&quot;</span>&gt;</span>&#123;&#123;movies.name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-media-box__desc&quot;</span>&gt;</span>&#123;&#123;movies.desc&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="0x006-Grid九宫格样式参考-适用于界面"><a href="#0x006-Grid九宫格样式参考-适用于界面" class="headerlink" title="0x006 Grid九宫格样式参考(适用于界面)"></a>0x006 Grid九宫格样式参考(适用于界面)</h3><p>一行三列式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__bd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-grids&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;grids&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;grid&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;weui-grid&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;weui-grid_active&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;weui-grid__icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;grid.imgurl&#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-grid__label&quot;</span>&gt;</span>&#123;&#123;grid.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;block&gt;</code>的标签，这个标签主要是说明里面包含的是一个多节点的结构块，换成<code>&lt;view&gt;</code>组件也没有太大影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">grids</span>:[</span><br><span class="line">      &#123; <span class="attr">imgurl</span>:<span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon1.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&quot;招聘&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon2.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;房产&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon3.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;二手车新车&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon4.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;二手&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon5.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;招商加盟&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon6.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;兼职&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon7.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;本地&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon8.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;家政&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon9.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;金币夺宝&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">imgurl</span>: <span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/icon10.png&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;送现金&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<p>一行五列式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.weui-grid</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="0x007-List样式参考-适用于个人中心"><a href="#0x007-List样式参考-适用于个人中心" class="headerlink" title="0x007 List样式参考(适用于个人中心)"></a>0x007 List样式参考(适用于个人中心)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cells weui-cells_after-title&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listicons&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;listicons&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell weui-cell_access&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;weui-cell_active&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell__hd&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;listicons.icon&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 5px;vertical-align: middle;width:20px; height: 20px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell__bd&quot;</span>&gt;</span>&#123;&#123;listicons.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell__ft weui-cell__ft_in-access&quot;</span>&gt;</span>&#123;&#123;listicons.desc&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">listicons</span>:[&#123;</span><br><span class="line">      <span class="attr">icon</span>:<span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/listicons1.png&quot;</span>,</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&quot;我的文件&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">icon</span>:<span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/listicons2.png&quot;</span>,</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&quot;我的收藏&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>:<span class="string">&quot;收藏列表&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">icon</span>:<span class="string">&quot;https://hackweek.oss-cn-shanghai.aliyuncs.com/hw18/hackwork/weapp/listicons3.png&quot;</span>,</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&quot;我的邮件&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>

<h2 id="0x07-小程序组件"><a href="#0x07-小程序组件" class="headerlink" title="0x07 小程序组件"></a>0x07 小程序组件</h2><h3 id="0x001-轮播效果"><a href="#0x001-轮播效果" class="headerlink" title="0x001 轮播效果"></a>0x001 轮播效果</h3><p>需要用到的轮播组件swiper</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;home-top&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;home-swiper&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">swiper</span> <span class="attr">indicator-dots</span>=<span class="string">&quot;&#123;&#123;indicatorDots&#125;&#125;&quot;</span> <span class="attr">autoplay</span>=<span class="string">&quot;&#123;&#123;autoplay&#125;&#125;&quot;</span> <span class="attr">interval</span>=<span class="string">&quot;&#123;&#123;interval&#125;&#125;&quot;</span> <span class="attr">duration</span>=<span class="string">&quot;&#123;&#123;duration&#125;&#125;&quot;</span> <span class="attr">indicator-color</span>=<span class="string">&quot;&#123;&#123;indicatorColor&#125;&#125;&quot;</span> <span class="attr">indicator-active-color</span>=<span class="string">&quot;&#123;&#123;activecolor&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;imgUrls&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height:200px&quot;</span> <span class="attr">class</span>=<span class="string">&quot;slide-image&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span>  /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">imgUrls</span>: [</span><br><span class="line">  <span class="string">&#x27;https://images.unsplash.com/photo-1551334787-21e6bd3ab135?w=640&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;https://images.unsplash.com/photo-1551214012-84f95e060dee?w=640&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;https://images.unsplash.com/photo-1551446591-142875a901a1?w=640&#x27;</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">interval</span>: <span class="number">5000</span>,</span><br><span class="line"><span class="attr">duration</span>: <span class="number">1000</span>,</span><br><span class="line"><span class="attr">indicatorDots</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">indicatorColor</span>: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line"><span class="attr">activecolor</span>:<span class="string">&quot;#2971f6&quot;</span>,</span><br><span class="line"><span class="attr">autoplay</span>: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure>

<p>要构成一个完整的轮播需要满足：</p>
<p>1.配置<strong>相同尺寸规格的图片</strong></p>
<p>2.配置轮播时的面板指示点、动画效果、是否自动播放等</p>
<h3 id="0x002-audio组件-音乐列表"><a href="#0x002-audio组件-音乐列表" class="headerlink" title="0x002 audio组件(音乐列表)"></a>0x002 audio组件(音乐列表)</h3><p>audio组件是音频组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;musicinfo.src&#125;&#125;&quot;</span> <span class="attr">poster</span>=<span class="string">&quot;&#123;&#123;musicinfo.poster&#125;&#125;&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&#123;&#123;musicinfo.name&#125;&#125;&quot;</span> <span class="attr">author</span>=<span class="string">&quot;&#123;&#123;musicinfo.author&#125;&#125;&quot;</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">musicinfo</span>: &#123;</span><br><span class="line">     <span class="attr">poster</span>: <span class="string">&#x27;http://y.gtimg.cn/music/photo_new/T002R300x300M000003rsKF44GyaSk.jpg?max_age=2592000&#x27;</span>,</span><br><span class="line">     <span class="attr">name</span>: <span class="string">&#x27;此时此刻&#x27;</span>,</span><br><span class="line">     <span class="attr">author</span>: <span class="string">&#x27;许巍&#x27;</span>,</span><br><span class="line">     <span class="attr">src</span>: <span class="string">&#x27;http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&amp;uin=346897220&amp;vkey=6292F51E1E384E06DCBDC9AB7C49FD713D632D313AC4858BACB8DDD29067D3C601481D36E62053BF8DFEAF74C0A5CCFADD6471160CAF3E6A&amp;fromtag=46&#x27;</span>,</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>

<p>audio组件：</p>
<ul>
<li>src：要播放音频的资源地址</li>
<li>poster：默认控件上的音频封面的图片资源地址</li>
<li>name：默认控件上的音频名字</li>
<li>author：默认控件上的作者名字</li>
</ul>
<p>可能由于audio组件使用的场景和频次都非常低，audio组件以后就要被抛弃了，需要用到小程序的API来创建音乐播放。</p>
<h3 id="0x003-video组件"><a href="#0x003-video组件" class="headerlink" title="0x003 video组件"></a>0x003 video组件</h3><p>video组件用来表示视频</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;daxueVideo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&quot;</span> <span class="attr">autoplay</span> <span class="attr">loop</span> <span class="attr">muted</span> <span class="attr">initial-time</span>=<span class="string">&quot;100&quot;</span> <span class="attr">controls</span> <span class="attr">event-model</span>=<span class="string">&quot;bubble&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>video组件：</p>
<ul>
<li>autoplay：是否自动播放</li>
<li>loop：是否循环播放</li>
<li>muted：是否静音播放</li>
<li>inital-time：指定视频初始播放位置，单位是秒</li>
<li>controls：是否显示默认播放控件</li>
</ul>
<h3 id="0x004-cover效果"><a href="#0x004-cover效果" class="headerlink" title="0x004 cover效果"></a>0x004 cover效果</h3><p>可以把view、图片组件覆盖在地图map或视频video组件之上</p>
<p>适用条件情况：</p>
<p>希望在视频的左上角显示视频的标题以及在右上角显示商家的logo，就可以使用cover效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;daxueVideo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&quot;</span> <span class="attr">controls</span> <span class="attr">event-model</span>=<span class="string">&quot;bubble&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;covertext&quot;</span>&gt;</span>腾讯大学：腾讯特色学习交流平台<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;coverimg&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://imgcache.qq.com/open_proj/proj_qcloud_v2/gateway/portal/css/img/nav/logo-bg-color.svg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.covertext</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coverimg</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">100</span>rpx;<span class="attribute">height</span>:<span class="number">23</span>rpx;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>:<span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="0x005-地图组件"><a href="#0x005-地图组件" class="headerlink" title="0x005 地图组件"></a>0x005 地图组件</h3><p>要想在地图上标记一个地点，首先我们需要知道该地点的经纬度，这个时候就需要使用到坐标拾取器的工具。</p>
<p><strong>经纬度获取：</strong><a target="_blank" rel="noopener" href="https://lbs.qq.com/tool/getpoint/index.html">腾讯地图坐标拾取器</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">map</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;myMap&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 300px;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">latitude</span>=<span class="string">&quot;&#123;&#123;latitude&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">longitude</span>=<span class="string">&quot;&#123;&#123;longitude&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">markers</span>=<span class="string">&quot;&#123;&#123;markers&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">covers</span>=<span class="string">&quot;&#123;&#123;covers&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">show-location</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">latitude</span>: <span class="number">22.540503</span>,</span><br><span class="line"><span class="attr">longitude</span>: <span class="number">113.934528</span>,</span><br><span class="line"><span class="attr">markers</span>: [&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">latitude</span>: <span class="number">22.540503</span>,</span><br><span class="line">  <span class="attr">longitude</span>: <span class="number">113.934528</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;深圳腾讯大厦&#x27;</span></span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>

<p><strong>在地图上标记多个点</strong></p>
<p>markers标记点用于在地图上显示标记的位置，它的<strong>数据类型</strong>是<strong>Array数组</strong></p>
<p>在markers里多添加几个坐标：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markers</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">     <span class="attr">latitude</span>: <span class="number">22.540503</span>,</span><br><span class="line">     <span class="attr">longitude</span>: <span class="number">113.934528</span>,</span><br><span class="line">     <span class="attr">title</span>: <span class="string">&#x27;深圳腾讯大厦&#x27;</span></span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">       <span class="attr">latitude</span>: <span class="number">22.540576</span>,</span><br><span class="line">       <span class="attr">longitude</span>: <span class="number">113.933790</span>,</span><br><span class="line">       <span class="attr">title</span>: <span class="string">&#x27;万利达科技大厦&#x27;</span></span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="number">3</span>,</span><br><span class="line">       <span class="attr">latitude</span>: <span class="number">22.522807</span>,</span><br><span class="line">       <span class="attr">longitude</span>: <span class="number">113.935338</span>,</span><br><span class="line">       <span class="attr">title</span>: <span class="string">&#x27;深圳腾讯滨海大厦&#x27;</span></span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="number">4</span>,</span><br><span class="line">       <span class="attr">latitude</span>: <span class="number">22.547400</span>,</span><br><span class="line">       <span class="attr">longitude</span>: <span class="number">113.944370</span>,</span><br><span class="line">       <span class="attr">title</span>: <span class="string">&#x27;腾讯C2&#x27;</span></span><br><span class="line">     &#125;,    </span><br><span class="line">   ],</span><br></pre></td></tr></table></figure>

<p>除了marker，还有以下属性:</p>
<ul>
<li>callout:点击marker出现气泡callout、以及气泡上的label，可以丰富点击地图标记弹出丰富的信息介绍；</li>
<li>circle：在地图上显示圆，比如用于显示方圆几公里，或者权重大小在地图的可视化</li>
<li>polygon：指定一系列坐标点，根据 points 坐标数据生成闭合多边形,，比如圈出实际的范围</li>
<li>polyline：指定一系列坐标点，从数组第一项连线至最后一项，比如跑步的路线</li>
</ul>
<h2 id="0x08-优化部署上线"><a href="#0x08-优化部署上线" class="headerlink" title="0x08 优化部署上线"></a>0x08 优化部署上线</h2><h3 id="0x001-小程序的转发功能"><a href="#0x001-小程序的转发功能" class="headerlink" title="0x001 小程序的转发功能"></a>0x001 小程序的转发功能</h3><p>只需要在小程序每个页面的js文件下的Page({ }） 里面，添加以下代码，小程序就有转发功能了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">onShareAppMessage</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">from</span> === <span class="string">&#x27;button&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">// 来自页面内转发按钮</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">target</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;云开发技术训练营&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;pages/home/home,</span></span><br><span class="line"><span class="string">            imageUrl:&quot;</span><span class="attr">https</span>:<span class="comment">//hackwork.oss-cn-shanghai.aliyuncs.com/lesson/weapp/4/weapp.jpg&quot;,</span></span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="comment">// 转发成功</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="comment">// 转发失败</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>title为转发的标题，如果不填，默认为当前小程序的名称；</li>
<li>path为当前页面路径，也可以为其他页面的路径，如果路径写错的话会显示“当前页面不存在”哦。</li>
<li>imageUrl为自定义图片路径，可以是本地文件路径或网络图片路径。支持PNG及JPG。显示图片长宽比是 5:4。如果不填写会取当前页面，从顶部开始，高度为 80% 屏幕宽度的图像作为转发图片</li>
</ul>
<h3 id="0x002-小程序配置的细节"><a href="#0x002-小程序配置的细节" class="headerlink" title="0x002 小程序配置的细节"></a>0x002 小程序配置的细节</h3><h4 id="0x0001-没有tabBar的小程序"><a href="#0x0001-没有tabBar的小程序" class="headerlink" title="0x0001 没有tabBar的小程序"></a>0x0001 没有tabBar的小程序</h4><p>删掉app.json的tabBar配置项即可。</p>
<h4 id="0x0002-下拉小程序不出现空白"><a href="#0x0002-下拉小程序不出现空白" class="headerlink" title="0x0002 下拉小程序不出现空白"></a>0x0002 下拉小程序不出现空白</h4><p>当下拉很多小程序的时候，都会出现一个白色的空白，很影响美观，但是如果在windows的配置项里把<strong>backgroundColor</strong>和<strong>navigationBarBackgroundColor</strong>的颜色配置成一样，下拉就不会有空白，比如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;window&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;backgroundTextStyle&quot;</span><span class="punctuation">:</span><span class="string">&quot;light&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#1772cb&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;HackWork技术工坊&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span><span class="punctuation">:</span><span class="string">&quot;white&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#1772cb&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<h4 id="0x0003-让整个页面背景变色"><a href="#0x0003-让整个页面背景变色" class="headerlink" title="0x0003 让整个页面背景变色"></a>0x0003 让整个页面背景变色</h4><p>可以通过直接设置page的样式来设置，在该页面的wxss文件里添加如下样式:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">page&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#1772cb</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="0x0004-禁止页面下拉"><a href="#0x0004-禁止页面下拉" class="headerlink" title="0x0004 禁止页面下拉"></a>0x0004 禁止页面下拉</h4><p>适用情况：做的比较短</p>
<p>目的：增强用户体验，不希望用户可以下拉页面，因为下拉页面会有种页面松动的感觉</p>
<p>做法：可以在该页面的json文件里配置</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;window&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;disableScroll&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="0x003-自定义顶部导航栏"><a href="#0x003-自定义顶部导航栏" class="headerlink" title="0x003 自定义顶部导航栏"></a>0x003 自定义顶部导航栏</h3><p>适用情况：官方默认的导航栏只能对背景颜色进行更改，想要在导航栏添加一些比较酷炫的效果</p>
<p>做法：通过自定义导航栏实现，通过设置 app.json中页面配置的 navigationStyle(导航栏样式)配置项的值为 custom，即可实现自定义导航：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;window&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;navigationStyle&quot;</span><span class="punctuation">:</span><span class="string">&quot;custom&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>给小程序的页面配一个好看的壁纸,home.wxss</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">page&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://tcb-1251009918.cos.ap-guangzhou.myqcloud.com/background.jpg</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="0x004-模板"><a href="#0x004-模板" class="headerlink" title="0x004 模板"></a>0x004 模板</h3><p>适用情况：希望<strong>所有的页面</strong>都有一个相同的底部版权信息</p>
<p>做法：</p>
<h4 id="0x0001-静态的页面片段"><a href="#0x0001-静态的页面片段" class="headerlink" title="0x0001 静态的页面片段"></a>0x0001 静态的页面片段</h4><p>使用开发者工具在小程序的pages页面新建一个common文件夹，在common里新建一个foot.wxml，并输入以下代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;foot&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-foot&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;index-desc&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;font-size:12px;bottom:20rpx;position:absolute;bottom:20rpx;width:100%&quot;</span>&gt;</span>云开发技术训练营<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在要引入的页面比如home.wxml的顶部，使用<strong>import</strong>引入这个模板</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">&quot;/pages/common/foot.wxml&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后在要显示的地方调用比如home.wmxl页面代码的最底部来调用这个模板</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;foot&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="0x0002-动态的页面片段"><a href="#0x0002-动态的页面片段" class="headerlink" title="0x0002 动态的页面片段"></a>0x0002 动态的页面片段</h4><p>在页面的每一页都有一个相似的页面样式与结果，但是不同的页面有着不同的标题以及页面描述，用数据绑定就能很好的解决这个问题，不同的页面的js data里有不同的数据，而模板的wxml都是固定的框架。</p>
<p>使用开发者工具在小程序的pages页面新建一个common文件夹，在common里新建一个head.wxml，并输入以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;head&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-head&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-head-title&quot;</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-head-line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;desc&#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-head-desc&quot;</span>&gt;</span>&#123;&#123;desc&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>再给每个页面的js里的data里添加不同的title和desc信息，再来在页面先引入head.wxml，然后在指定的位置比如wxml代码的前面调用该模板。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">&quot;/pages/common/head.wxml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;foot&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意创建模板时，使用的是<code>&lt;template name=&quot;模板名&quot;&gt;&lt;/template&gt;</code>，而调用模板时，使用的是<code>&lt;template is=&quot;模板名&quot; /&gt;</code>，两者之间对应。</p>
<h3 id="0x005-小程序的客服"><a href="#0x005-小程序的客服" class="headerlink" title="0x005 小程序的客服"></a>0x005 小程序的客服</h3><p>适用情况：开发者在小程序内添加客服消息按钮组件，用户就可在小程序内唤起客服会话页面，给小程序发消息。而开发者（可绑定其他运营人员）也可以直接使用<a target="_blank" rel="noopener" href="https://mpkf.weixin.qq.com/">微信公众平台网页版客服工具</a>或者移动端小程序客服小助手进行客服消息回复</p>
<p>做法：</p>
<p>在wxml文件里添加如下代码，即可唤起客服会话页面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="0x006-web-view"><a href="#0x006-web-view" class="headerlink" title="0x006 web-view"></a>0x006 web-view</h3><p>承载网页的容器。会自动铺满整个小程序页面，<strong>个人类型的小程序暂不支持使用。</strong></p>
<p>web-view组件可<strong>打开关联的公众号的文章</strong></p>
<p>适用于自媒体用户</p>
<p>公众号文章可以使用第三方的工具比如秀米</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-view</span> <span class="attr">src</span>=<span class="string">&quot;https://mp.weixin.qq.com/cgi-bin/wx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">web-view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>web-view的也可以绑定备案好的域名，支持JSSDK的接口，因此很有小程序为了省开发成本，点击链接打开的都是网页，并没有做小程序的原生开发，这个就不再讨论范围之内了。</p>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2020/03/20/Basic-Preparation-for-Mini-Program-Development/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
              2024-04-20 22:16:54
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags mr-10" title="Tags"></i>
                    
                    <span class="span--tag mr-8">
                      <a href="/tags/Notes/" title="Notes">
                        #Notes
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/2020/03/20/Introduction-to-Mini-Program-Development/" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x007-%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A%E7%9A%84%E8%83%8C%E6%99%AF"><span class="toc-text">0x007 高斯模糊的背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x008-%E5%8F%98%E5%BD%A2%E5%B1%9E%E6%80%A7Transform"><span class="toc-text">0x008 变形属性Transform</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x009-%E8%BF%87%E6%B8%A1%E5%B1%9E%E6%80%A7Transition"><span class="toc-text">0x009 过渡属性Transition</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x010-%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-text">0x010 背景颜色的变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x011-%E5%8A%A8%E7%94%BB%E5%B1%9E%E6%80%A7Animation"><span class="toc-text">0x011 动画属性Animation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x05-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-text">0x05 数据绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x001-%E6%95%B0%E6%8D%AE%E5%88%86%E7%A6%BB"><span class="toc-text">0x001 数据分离</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x002-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">0x002 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x003-%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7%E7%9A%84%E6%B8%B2%E6%9F%93"><span class="toc-text">0x003 组件属性的渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x004-%E6%B8%B2%E6%9F%93%E6%95%B0%E7%BB%84%E9%87%8C%E7%9A%84%E5%8D%95%E6%9D%A1%E6%95%B0%E6%8D%AE"><span class="toc-text">0x004 渲染数组里的单条数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x005-%E6%B8%B2%E6%9F%93%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">0x005 渲染对象类型的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x006-%E5%A4%8D%E6%9D%82%E7%9A%84%E6%95%B0%E6%8D%AE%E5%B5%8C%E5%A5%97"><span class="toc-text">0x006 复杂的数据嵌套</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x06-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E4%B8%8E%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-text">0x06 列表渲染与条件渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x001-%E6%B8%B2%E6%9F%93%E6%95%B0%E7%BB%84%E9%87%8C%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE"><span class="toc-text">0x001 渲染数组里的所有数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x002-wx-for"><span class="toc-text">0x002 wx:for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x003-block-wx-for"><span class="toc-text">0x003 block wx:for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x004-wx-key"><span class="toc-text">0x004 wx:key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x005-%E7%94%B5%E5%BD%B1%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2"><span class="toc-text">0x005 电影列表页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x006-Grid%E4%B9%9D%E5%AE%AB%E6%A0%BC%E6%A0%B7%E5%BC%8F%E5%8F%82%E8%80%83-%E9%80%82%E7%94%A8%E4%BA%8E%E7%95%8C%E9%9D%A2"><span class="toc-text">0x006 Grid九宫格样式参考(适用于界面)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x007-List%E6%A0%B7%E5%BC%8F%E5%8F%82%E8%80%83-%E9%80%82%E7%94%A8%E4%BA%8E%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83"><span class="toc-text">0x007 List样式参考(适用于个人中心)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x07-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%84%E4%BB%B6"><span class="toc-text">0x07 小程序组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x001-%E8%BD%AE%E6%92%AD%E6%95%88%E6%9E%9C"><span class="toc-text">0x001 轮播效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x002-audio%E7%BB%84%E4%BB%B6-%E9%9F%B3%E4%B9%90%E5%88%97%E8%A1%A8"><span class="toc-text">0x002 audio组件(音乐列表)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x003-video%E7%BB%84%E4%BB%B6"><span class="toc-text">0x003 video组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x004-cover%E6%95%88%E6%9E%9C"><span class="toc-text">0x004 cover效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x005-%E5%9C%B0%E5%9B%BE%E7%BB%84%E4%BB%B6"><span class="toc-text">0x005 地图组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x08-%E4%BC%98%E5%8C%96%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF"><span class="toc-text">0x08 优化部署上线</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x001-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BD%AC%E5%8F%91%E5%8A%9F%E8%83%BD"><span class="toc-text">0x001 小程序的转发功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x002-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%E7%9A%84%E7%BB%86%E8%8A%82"><span class="toc-text">0x002 小程序配置的细节</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#0x0001-%E6%B2%A1%E6%9C%89tabBar%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="toc-text">0x0001 没有tabBar的小程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#0x0002-%E4%B8%8B%E6%8B%89%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8D%E5%87%BA%E7%8E%B0%E7%A9%BA%E7%99%BD"><span class="toc-text">0x0002 下拉小程序不出现空白</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#0x0003-%E8%AE%A9%E6%95%B4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E8%83%8C%E6%99%AF%E5%8F%98%E8%89%B2"><span class="toc-text">0x0003 让整个页面背景变色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#0x0004-%E7%A6%81%E6%AD%A2%E9%A1%B5%E9%9D%A2%E4%B8%8B%E6%8B%89"><span class="toc-text">0x0004 禁止页面下拉</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x003-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="toc-text">0x003 自定义顶部导航栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x004-%E6%A8%A1%E6%9D%BF"><span class="toc-text">0x004 模板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#0x0001-%E9%9D%99%E6%80%81%E7%9A%84%E9%A1%B5%E9%9D%A2%E7%89%87%E6%AE%B5"><span class="toc-text">0x0001 静态的页面片段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#0x0002-%E5%8A%A8%E6%80%81%E7%9A%84%E9%A1%B5%E9%9D%A2%E7%89%87%E6%AE%B5"><span class="toc-text">0x0002 动态的页面片段</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x005-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AE%A2%E6%9C%8D"><span class="toc-text">0x005 小程序的客服</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x006-web-view"><span class="toc-text">0x006 web-view</span></a></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        







      </div>
    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          
              <a title="github" target="_blank" rel="noopener" href="https://github.com/L0kiii">
                <i class="iconfont icon-github"></i>
              </a>
              
        </li>
        
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        Copyright © 2024
        
    </div>
  
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
          <a class="share-item" href="https://twitter.com/intent/tweet?text=' + Introduction%20to%20Mini%20Program%20Development%5B2%5D + '&url=' + https%3A%2F%2Fl0ki.net%2F2020%2F03%2F20%2FIntroduction-to-Mini-Program-Development-2%2F + '" target="_blank" title="Twitter">
            <i class="iconfont icon-twitter"></i>
          </a>
        
        
          <a class="share-item" href="https://www.facebook.com/sharer.php?u=https://l0ki.net/2020/03/20/Introduction-to-Mini-Program-Development-2/" target="_blank" title="Facebook">
            <i class="iconfont icon-facebooksquare"></i>
          </a>
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body>
</html>
